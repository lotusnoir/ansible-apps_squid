---
### Configuration
# General
squid_visible_hostname: "{{ inventory_hostname }}"
squid_port: 3128 # can also be defined xx.xx.xx.xx:3128
squid_core_dump_dir: "/var/spool/squid"
squid_via: "on"
# Ressource Limits
squid_max_filedescriptors: "65535"
squid_cache_mem: "2 GB"
squid_memory_pools: "on"
squid_workers: 2
squid_maximum_object_size_in_memory: "32 MB"
squid_maximum_object_size: "512 MB"
# HTTP and SSL settings
squid_httpd_suppress_version_string: "on"
squid_client_persistent_connections: "off"
squid_server_persistent_connections: "off"
squid_connect_timeout: "30 seconds"
squid_request_timeout: "2 minutes"
squid_read_timeout: "2 minutes"
squid_client_lifetime: "10 minutes"
# DNS
squid_dns_nameservers: ""
squid_dns_timeout: "5 seconds"
squid_positive_dns_ttl: "8 hours"
squid_negative_ttl: "4 minutes"
squid_forwarded_for: "on"

### auth param
squid_auth_param_secret: ""
squid_auth_param: {}
#  - {name: 'basic', type: 'program', value: '/usr/lib/squid/basic_ldap_auth
#    -v 3
#    -b "dc=exemple,dc=fr"
#    -D "cn=squid,ou=services,dc=exemple,dc=fr"
#    -W /etc/squid/ldap.secret
#    -f "(&(objectClass=person)(sAMAccountName=%s))"
#    ldap1.int.exemple.fr'}
#  - {name: 'basic', type: 'realm', value: 'Proxy Squid LDAP'}
#  - {name: 'basic', type: 'credentialsttl', value: '4 hours'}
#  - {name: 'basic', type: 'casesensitive', value: 'off'}

### acls
squid_external_acl_type: ""
#  external_acl_type ldap_group %LOGIN \
#  /usr/lib/squid/ext_ldap_group_acl \
#  -v 3 \
#  -b "dc=exemple,dc=fr" \
#  -D "cn=squid,ou=services,dc=exemple,dc=fr" \
#  -W /etc/squid/ldap.secret \
#  -f "(&(objectClass=group)(cn=%g)(member=%u))" \
#  ldap1.int.exemple.fr

squid_acls: {}
#  - {name: 'snmppublic', type: 'snmp_community', value: 'public'}
#  - {name: 'SSL_ports', type: 'port', value: '443'}
#  - {name: 'FTP', type: 'proto', value: 'FTP'}
#  - {name: 'grp_sites_toto', type: 'external', value: 'ldap_group sites_toto'}
#  - {name: 'sites_toto', type: 'dstdomain', value: '.github.com'}
#  - {name: 'Safe_ports', type: 'port', value: '1025-65535', comment: 'unregistered ports'}
#  - {name: 'CONNECT', type: 'method', value: 'CONNECT'}
#  - {name: 'authenticated', type: 'proxy_auth', value: 'REQUIRED'}
#  - {name: 'vms', type: 'src', value: '10.64.32.0/19'}

### access
squid_http_access: {}
#  - {access: 'deny', type: 'CONNECT', scope: '!SSL_ports'}
squid_always_direct: {}
#  - {access: 'allow', value: 'FTP'}
squid_deny_info: ""

### Cache
squid_cache_enable: false
squid_cache_dir: "ufs /var/spool/squid 10240 16 256"
squid_cache_replacement_policy: ""

### Snmp
squid_snmp_enable: false
squid_snmp_port: 3401
squid_snmp_community: localhost
squid_snmp_incoming_address: 127.0.0.1

### logs
squid_error_directory: ""
squid_log_access: "stdio:/var/log/squid/access.log squid"
squid_log_cache: "/var/log/squid/cache.log"
squid_log_store: "stdio:/var/log/squid/store.log"
# squid_log_format: '%{%d/%b/%Y:%H:%M:%S %z}tl %6tr %>a %Ss/%03Hs %<st %rm %ru %un %Sh/%<A %mt %dt %{User-Agent}>h'

### Various
squid_various: ""
